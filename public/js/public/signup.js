// Generated by CoffeeScript 1.9.1

/*
	For /signup form page

	Dependencies:
		JQeury
		CryptoJS
 */

(function() {
  $("#signup").submit(function(e) {
    var data;
    e.preventDefault();
    data = {
      firstName: $("[name='firstName']").val(),
      lastName: $("[name='lastName']").val(),
      email: $("[name='email']").val()
    };
    if ($("[name='password']").val().length !== 0) {
      data.password = CryptoJS.SHA256($("[name='password']").val()).toString(CryptoJS.enc.Hex);
    }
    return $.ajax({
      url: "/signup",
      type: "POST",
      ajax: "true",
      data: JSON.stringify(data),
      cache: false,
      contentType: "application/json",
      processData: false,
      success: function(res) {
        return $("#test").html(res);
      },
      error: function(res) {
        return $("#test").html("Error!");
      }
    });
  });

}).call(this);
